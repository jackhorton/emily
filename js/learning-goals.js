(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var gumshoe = require('gumshoe');
var smoothscroll = require('smooth-scroll');

document.addEventListener('DOMContentLoaded', function () {
    gumshoe.init({
        callback: (function () {
            var active;

            return function onNav(nav) {
                if (nav.target !== active) {
                    window.history.replaceState(null, null, '#' + nav.target.id);
                    active = nav.target;
                }
            }
        })()
    });

    smoothscroll.init({
        offset: -1
    });
});

document.addEventListener('typekitReady', function () {
    gumshoe.setDistances();

    // fix the scroll location on new page enter
    if (window.location.hash) {
        var hash = smoothscroll.escapeCharacters(window.location.hash);
        var toggle = document.querySelector('a[href*="' + hash + '"]');
        smoothscroll.animateScroll(hash, toggle, { speed: 1, offset: -1 });
    }
});

},{"gumshoe":2,"smooth-scroll":3}],2:[function(require,module,exports){
(function (global){
/*! gumshoe v3.0.2 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gumshoe */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.gumshoe=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n,o,a,r,c,s={},i="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),l=[],u={selector:"[data-gumshoe] a",selectorHeader:"[data-gumshoe-header]",offset:0,activeClass:"active",callback:function(){}},f=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var a=0,r=e.length;r>a;a++)t.call(n,e[a],a,e)},d=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var a=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=d(!0,e[o],n[o]):e[o]=n[o])};o>n;n++){var r=arguments[n];a(r)}return e},v=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},g=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},m=function(e){var n=0;if(e.offsetParent){do n+=e.offsetTop,e=e.offsetParent;while(e)}else n=e.offsetTop;return n=n-r-t.offset,n>=0?n:0},p=function(){l.sort(function(e,t){return e.distance>t.distance?-1:e.distance<t.distance?1:0})};s.setDistances=function(){o=g(),r=a?v(a)+m(a):0,f(l,function(e){e.distance=m(e.target)}),p()};var h=function(){var e=document.querySelectorAll(t.selector);f(e,function(e){e.hash&&l.push({nav:e,target:document.querySelector(e.hash),parent:"li"===e.parentNode.tagName.toLowerCase()?e.parentNode:null,distance:0})})},y=function(e){c&&(c.nav.classList.remove(t.activeClass),c.parent&&c.parent.classList.remove(t.activeClass)),e.nav.classList.add(t.activeClass),e.parent&&e.parent.classList.add(t.activeClass),t.callback(e),c={nav:e.nav,parent:e.parent}};s.getCurrentNav=function(){var t=e.pageYOffset;if(e.innerHeight+t>=o)return y(l[0]);for(var n=0,a=l.length;a>n;n++){var r=l[n];if(r.distance<t)return y(r)}};var b=function(){f(l,function(e){e.nav.classList.contains(t.activeClass)&&(c={nav:e.nav,parent:e.parent})})};s.destroy=function(){t&&(e.removeEventListener("resize",H,!1),e.removeEventListener("scroll",H,!1),l=[],t=null,n=null,o=null,a=null,r=null,c=null)};var H=function(e){n||(n=setTimeout(function(){n=null,"scroll"===e.type&&s.getCurrentNav(),"resize"===e.type&&(s.setDistances(),s.getCurrentNav())},66))};return s.init=function(n){i&&(s.destroy(),t=d(u,n||{}),a=document.querySelector(t.selectorHeader),h(),0!==l.length&&(b(),s.setDistances(),s.getCurrentNav(),e.addEventListener("resize",H,!1),e.addEventListener("scroll",H,!1)))},s});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
(function (global){
/*! smooth-scroll v9.1.1 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n,r,o,a,c={},u="querySelector"in document&&"addEventListener"in e,i={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callback:function(){}},l=function(){var e={},t=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var o=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=l(!0,e[r],n[r]):e[r]=n[r])};r>n;n++){var a=arguments[n];o(a)}return e},s=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},f=function(e,t){var n,r,o=t.charAt(0),a="classList"in document.documentElement;for("["===o&&(t=t.substr(1,t.length-2),n=t.split("="),n.length>1&&(r=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===o)if(a){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===o&&e.id===t.substr(1))return e;if("["===o&&e.hasAttribute(n[0])){if(!r)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};c.escapeCharacters=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),r=n.length,o=-1,a="",c=n.charCodeAt(0);++o<r;){if(t=n.charCodeAt(o),0===t)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");a+=t>=1&&31>=t||127==t||0===o&&t>=48&&57>=t||1===o&&t>=48&&57>=t&&45===c?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t?n.charAt(o):"\\"+n.charAt(o)}return"#"+a};var d=function(e,t){var n;return"easeInQuad"===e&&(n=t*t),"easeOutQuad"===e&&(n=t*(2-t)),"easeInOutQuad"===e&&(n=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(n=t*t*t),"easeOutCubic"===e&&(n=--t*t*t+1),"easeInOutCubic"===e&&(n=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(n=t*t*t*t),"easeOutQuart"===e&&(n=1- --t*t*t*t),"easeInOutQuart"===e&&(n=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(n=t*t*t*t*t),"easeOutQuint"===e&&(n=1+--t*t*t*t*t),"easeInOutQuint"===e&&(n=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},h=function(e,t,n){var r=0;if(e.offsetParent)do r+=e.offsetTop,e=e.offsetParent;while(e);return r=r-t-n,r>=0?r:0},m=function(){return Math.max(e.document.body.scrollHeight,e.document.documentElement.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.offsetHeight,e.document.body.clientHeight,e.document.documentElement.clientHeight)},p=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},g=function(t,n){e.history.pushState&&(n||"true"===n)&&"file:"!==e.location.protocol&&e.history.pushState(null,null,[e.location.protocol,"//",e.location.host,e.location.pathname,e.location.search,t].join(""))},b=function(e){return null===e?0:s(e)+e.offsetTop};c.animateScroll=function(n,c,u){var s=p(c?c.getAttribute("data-options"):null),f=l(t||i,u||{},s),v="[object Number]"===Object.prototype.toString.call(n)?!0:!1,y=v?null:"#"===n?e.document.documentElement:e.document.querySelector(n);if(v||y){var O=e.pageYOffset;r||(r=e.document.querySelector(f.selectorHeader)),o||(o=b(r));var S,I,H=v?n:h(y,o,parseInt(f.offset,10)),E=H-O,j=m(),C=0;v||g(n,f.updateURL);var L=function(t,r,o){var a=e.pageYOffset;(t==r||a==r||e.innerHeight+a>=j)&&(clearInterval(o),v||y.focus(),f.callback(n,c))},w=function(){C+=16,S=C/parseInt(f.speed,10),S=S>1?1:S,I=O+E*d(f.easing,S),e.scrollTo(0,Math.floor(I)),L(I,H,a)},A=function(){clearInterval(a),a=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),A()}};var v=function(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey){var n=f(e.target,t.selector);if(n&&"a"===n.tagName.toLowerCase()){e.preventDefault();var r=c.escapeCharacters(n.hash);c.animateScroll(r,n,t)}}},y=function(e){n||(n=setTimeout(function(){n=null,o=b(r)},66))};return c.destroy=function(){t&&(e.document.removeEventListener("click",v,!1),e.removeEventListener("resize",y,!1),t=null,n=null,r=null,o=null,a=null)},c.init=function(n){u&&(c.destroy(),t=l(i,n||{}),r=e.document.querySelector(t.selectorHeader),o=b(r),e.document.addEventListener("click",v,!1),r&&e.addEventListener("resize",y,!1))},c});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJfcG9ydGZvbGlvL2xlYXJuaW5nLWdvYWxzL3BhZ2UuanMiLCJub2RlX21vZHVsZXMvZ3Vtc2hvZS9kaXN0L2pzL2d1bXNob2UubWluLmpzIiwibm9kZV9tb2R1bGVzL3Ntb290aC1zY3JvbGwvZGlzdC9qcy9zbW9vdGgtc2Nyb2xsLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xDQTtBQUNBOzs7OztBQ0RBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ3Vtc2hvZSA9IHJlcXVpcmUoJ2d1bXNob2UnKTtcbnZhciBzbW9vdGhzY3JvbGwgPSByZXF1aXJlKCdzbW9vdGgtc2Nyb2xsJyk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgZ3Vtc2hvZS5pbml0KHtcbiAgICAgICAgY2FsbGJhY2s6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlO1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25OYXYobmF2KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hdi50YXJnZXQgIT09IGFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgJyMnICsgbmF2LnRhcmdldC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IG5hdi50YXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpXG4gICAgfSk7XG5cbiAgICBzbW9vdGhzY3JvbGwuaW5pdCh7XG4gICAgICAgIG9mZnNldDogLTFcbiAgICB9KTtcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0eXBla2l0UmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgZ3Vtc2hvZS5zZXREaXN0YW5jZXMoKTtcblxuICAgIC8vIGZpeCB0aGUgc2Nyb2xsIGxvY2F0aW9uIG9uIG5ldyBwYWdlIGVudGVyXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgIHZhciBoYXNoID0gc21vb3Roc2Nyb2xsLmVzY2FwZUNoYXJhY3RlcnMod2luZG93LmxvY2F0aW9uLmhhc2gpO1xuICAgICAgICB2YXIgdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYVtocmVmKj1cIicgKyBoYXNoICsgJ1wiXScpO1xuICAgICAgICBzbW9vdGhzY3JvbGwuYW5pbWF0ZVNjcm9sbChoYXNoLCB0b2dnbGUsIHsgc3BlZWQ6IDEsIG9mZnNldDogLTEgfSk7XG4gICAgfVxufSk7XG4iLCIvKiEgZ3Vtc2hvZSB2My4wLjIgfCAoYykgMjAxNiBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9ndW1zaG9lICovXG4hZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQoZSkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQoZSk6ZS5ndW1zaG9lPXQoZSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXMud2luZG93fHx0aGlzLmdsb2JhbCxmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgdCxuLG8sYSxyLGMscz17fSxpPVwicXVlcnlTZWxlY3RvclwiaW4gZG9jdW1lbnQmJlwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZSYmXCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpLGw9W10sdT17c2VsZWN0b3I6XCJbZGF0YS1ndW1zaG9lXSBhXCIsc2VsZWN0b3JIZWFkZXI6XCJbZGF0YS1ndW1zaG9lLWhlYWRlcl1cIixvZmZzZXQ6MCxhY3RpdmVDbGFzczpcImFjdGl2ZVwiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7fX0sZj1mdW5jdGlvbihlLHQsbil7aWYoXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlmb3IodmFyIG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5jYWxsKG4sZVtvXSxvLGUpO2Vsc2UgZm9yKHZhciBhPTAscj1lLmxlbmd0aDtyPmE7YSsrKXQuY2FsbChuLGVbYV0sYSxlKX0sZD1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9ITEsbj0wLG89YXJndW1lbnRzLmxlbmd0aDtcIltvYmplY3QgQm9vbGVhbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHNbMF0pJiYodD1hcmd1bWVudHNbMF0sbisrKTtmb3IodmFyIGE9ZnVuY3Rpb24obil7Zm9yKHZhciBvIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJih0JiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5bb10pP2Vbb109ZCghMCxlW29dLG5bb10pOmVbb109bltvXSl9O28+bjtuKyspe3ZhciByPWFyZ3VtZW50c1tuXTthKHIpfXJldHVybiBlfSx2PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heChlLnNjcm9sbEhlaWdodCxlLm9mZnNldEhlaWdodCxlLmNsaWVudEhlaWdodCl9LGc9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCxkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpfSxtPWZ1bmN0aW9uKGUpe3ZhciBuPTA7aWYoZS5vZmZzZXRQYXJlbnQpe2RvIG4rPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7d2hpbGUoZSl9ZWxzZSBuPWUub2Zmc2V0VG9wO3JldHVybiBuPW4tci10Lm9mZnNldCxuPj0wP246MH0scD1mdW5jdGlvbigpe2wuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRpc3RhbmNlPnQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZTx0LmRpc3RhbmNlPzE6MH0pfTtzLnNldERpc3RhbmNlcz1mdW5jdGlvbigpe289ZygpLHI9YT92KGEpK20oYSk6MCxmKGwsZnVuY3Rpb24oZSl7ZS5kaXN0YW5jZT1tKGUudGFyZ2V0KX0pLHAoKX07dmFyIGg9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQuc2VsZWN0b3IpO2YoZSxmdW5jdGlvbihlKXtlLmhhc2gmJmwucHVzaCh7bmF2OmUsdGFyZ2V0OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZS5oYXNoKSxwYXJlbnQ6XCJsaVwiPT09ZS5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9lLnBhcmVudE5vZGU6bnVsbCxkaXN0YW5jZTowfSl9KX0seT1mdW5jdGlvbihlKXtjJiYoYy5uYXYuY2xhc3NMaXN0LnJlbW92ZSh0LmFjdGl2ZUNsYXNzKSxjLnBhcmVudCYmYy5wYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSh0LmFjdGl2ZUNsYXNzKSksZS5uYXYuY2xhc3NMaXN0LmFkZCh0LmFjdGl2ZUNsYXNzKSxlLnBhcmVudCYmZS5wYXJlbnQuY2xhc3NMaXN0LmFkZCh0LmFjdGl2ZUNsYXNzKSx0LmNhbGxiYWNrKGUpLGM9e25hdjplLm5hdixwYXJlbnQ6ZS5wYXJlbnR9fTtzLmdldEN1cnJlbnROYXY9ZnVuY3Rpb24oKXt2YXIgdD1lLnBhZ2VZT2Zmc2V0O2lmKGUuaW5uZXJIZWlnaHQrdD49bylyZXR1cm4geShsWzBdKTtmb3IodmFyIG49MCxhPWwubGVuZ3RoO2E+bjtuKyspe3ZhciByPWxbbl07aWYoci5kaXN0YW5jZTx0KXJldHVybiB5KHIpfX07dmFyIGI9ZnVuY3Rpb24oKXtmKGwsZnVuY3Rpb24oZSl7ZS5uYXYuY2xhc3NMaXN0LmNvbnRhaW5zKHQuYWN0aXZlQ2xhc3MpJiYoYz17bmF2OmUubmF2LHBhcmVudDplLnBhcmVudH0pfSl9O3MuZGVzdHJveT1mdW5jdGlvbigpe3QmJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixILCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixILCExKSxsPVtdLHQ9bnVsbCxuPW51bGwsbz1udWxsLGE9bnVsbCxyPW51bGwsYz1udWxsKX07dmFyIEg9ZnVuY3Rpb24oZSl7bnx8KG49c2V0VGltZW91dChmdW5jdGlvbigpe249bnVsbCxcInNjcm9sbFwiPT09ZS50eXBlJiZzLmdldEN1cnJlbnROYXYoKSxcInJlc2l6ZVwiPT09ZS50eXBlJiYocy5zZXREaXN0YW5jZXMoKSxzLmdldEN1cnJlbnROYXYoKSl9LDY2KSl9O3JldHVybiBzLmluaXQ9ZnVuY3Rpb24obil7aSYmKHMuZGVzdHJveSgpLHQ9ZCh1LG58fHt9KSxhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodC5zZWxlY3RvckhlYWRlciksaCgpLDAhPT1sLmxlbmd0aCYmKGIoKSxzLnNldERpc3RhbmNlcygpLHMuZ2V0Q3VycmVudE5hdigpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLEgsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLEgsITEpKSl9LHN9KTsiLCIvKiEgc21vb3RoLXNjcm9sbCB2OS4xLjEgfCAoYykgMjAxNiBDaHJpcyBGZXJkaW5hbmRpIHwgTUlUIExpY2Vuc2UgfCBodHRwOi8vZ2l0aHViLmNvbS9jZmVyZGluYW5kaS9zbW9vdGgtc2Nyb2xsICovXG4hZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQoZSkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQoZSk6ZS5zbW9vdGhTY3JvbGw9dChlKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpcy53aW5kb3d8fHRoaXMuZ2xvYmFsLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0LG4scixvLGEsYz17fSx1PVwicXVlcnlTZWxlY3RvclwiaW4gZG9jdW1lbnQmJlwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZSxpPXtzZWxlY3RvcjpcIltkYXRhLXNjcm9sbF1cIixzZWxlY3RvckhlYWRlcjpcIltkYXRhLXNjcm9sbC1oZWFkZXJdXCIsc3BlZWQ6NTAwLGVhc2luZzpcImVhc2VJbk91dEN1YmljXCIsb2Zmc2V0OjAsdXBkYXRlVVJMOiEwLGNhbGxiYWNrOmZ1bmN0aW9uKCl7fX0sbD1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9ITEsbj0wLHI9YXJndW1lbnRzLmxlbmd0aDtcIltvYmplY3QgQm9vbGVhbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHNbMF0pJiYodD1hcmd1bWVudHNbMF0sbisrKTtmb3IodmFyIG89ZnVuY3Rpb24obil7Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0JiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5bcl0pP2Vbcl09bCghMCxlW3JdLG5bcl0pOmVbcl09bltyXSl9O3I+bjtuKyspe3ZhciBhPWFyZ3VtZW50c1tuXTtvKGEpfXJldHVybiBlfSxzPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heChlLnNjcm9sbEhlaWdodCxlLm9mZnNldEhlaWdodCxlLmNsaWVudEhlaWdodCl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dC5jaGFyQXQoMCksYT1cImNsYXNzTGlzdFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2ZvcihcIltcIj09PW8mJih0PXQuc3Vic3RyKDEsdC5sZW5ndGgtMiksbj10LnNwbGl0KFwiPVwiKSxuLmxlbmd0aD4xJiYocj0hMCxuWzFdPW5bMV0ucmVwbGFjZSgvXCIvZyxcIlwiKS5yZXBsYWNlKC8nL2csXCJcIikpKTtlJiZlIT09ZG9jdW1lbnQ7ZT1lLnBhcmVudE5vZGUpe2lmKFwiLlwiPT09bylpZihhKXtpZihlLmNsYXNzTGlzdC5jb250YWlucyh0LnN1YnN0cigxKSkpcmV0dXJuIGV9ZWxzZSBpZihuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrdC5zdWJzdHIoMSkrXCIoXFxcXHN8JClcIikudGVzdChlLmNsYXNzTmFtZSkpcmV0dXJuIGU7aWYoXCIjXCI9PT1vJiZlLmlkPT09dC5zdWJzdHIoMSkpcmV0dXJuIGU7aWYoXCJbXCI9PT1vJiZlLmhhc0F0dHJpYnV0ZShuWzBdKSl7aWYoIXIpcmV0dXJuIGU7aWYoZS5nZXRBdHRyaWJ1dGUoblswXSk9PT1uWzFdKXJldHVybiBlfWlmKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dClyZXR1cm4gZX1yZXR1cm4gbnVsbH07Yy5lc2NhcGVDaGFyYWN0ZXJzPWZ1bmN0aW9uKGUpe1wiI1wiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyKDEpKTtmb3IodmFyIHQsbj1TdHJpbmcoZSkscj1uLmxlbmd0aCxvPS0xLGE9XCJcIixjPW4uY2hhckNvZGVBdCgwKTsrK288cjspe2lmKHQ9bi5jaGFyQ29kZUF0KG8pLDA9PT10KXRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlcjogdGhlIGlucHV0IGNvbnRhaW5zIFUrMDAwMC5cIik7YSs9dD49MSYmMzE+PXR8fDEyNz09dHx8MD09PW8mJnQ+PTQ4JiY1Nz49dHx8MT09PW8mJnQ+PTQ4JiY1Nz49dCYmNDU9PT1jP1wiXFxcXFwiK3QudG9TdHJpbmcoMTYpK1wiIFwiOnQ+PTEyOHx8NDU9PT10fHw5NT09PXR8fHQ+PTQ4JiY1Nz49dHx8dD49NjUmJjkwPj10fHx0Pj05NyYmMTIyPj10P24uY2hhckF0KG8pOlwiXFxcXFwiK24uY2hhckF0KG8pfXJldHVyblwiI1wiK2F9O3ZhciBkPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuXCJlYXNlSW5RdWFkXCI9PT1lJiYobj10KnQpLFwiZWFzZU91dFF1YWRcIj09PWUmJihuPXQqKDItdCkpLFwiZWFzZUluT3V0UXVhZFwiPT09ZSYmKG49LjU+dD8yKnQqdDotMSsoNC0yKnQpKnQpLFwiZWFzZUluQ3ViaWNcIj09PWUmJihuPXQqdCp0KSxcImVhc2VPdXRDdWJpY1wiPT09ZSYmKG49LS10KnQqdCsxKSxcImVhc2VJbk91dEN1YmljXCI9PT1lJiYobj0uNT50PzQqdCp0KnQ6KHQtMSkqKDIqdC0yKSooMip0LTIpKzEpLFwiZWFzZUluUXVhcnRcIj09PWUmJihuPXQqdCp0KnQpLFwiZWFzZU91dFF1YXJ0XCI9PT1lJiYobj0xLSAtLXQqdCp0KnQpLFwiZWFzZUluT3V0UXVhcnRcIj09PWUmJihuPS41PnQ/OCp0KnQqdCp0OjEtOCotLXQqdCp0KnQpLFwiZWFzZUluUXVpbnRcIj09PWUmJihuPXQqdCp0KnQqdCksXCJlYXNlT3V0UXVpbnRcIj09PWUmJihuPTErLS10KnQqdCp0KnQpLFwiZWFzZUluT3V0UXVpbnRcIj09PWUmJihuPS41PnQ/MTYqdCp0KnQqdCp0OjErMTYqLS10KnQqdCp0KnQpLG58fHR9LGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPTA7aWYoZS5vZmZzZXRQYXJlbnQpZG8gcis9ZS5vZmZzZXRUb3AsZT1lLm9mZnNldFBhcmVudDt3aGlsZShlKTtyZXR1cm4gcj1yLXQtbixyPj0wP3I6MH0sbT1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heChlLmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCxlLmRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxlLmRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LGUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCl9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBKU09OJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBKU09OLnBhcnNlP0pTT04ucGFyc2UoZSk6e319LGc9ZnVuY3Rpb24odCxuKXtlLmhpc3RvcnkucHVzaFN0YXRlJiYobnx8XCJ0cnVlXCI9PT1uKSYmXCJmaWxlOlwiIT09ZS5sb2NhdGlvbi5wcm90b2NvbCYmZS5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLG51bGwsW2UubG9jYXRpb24ucHJvdG9jb2wsXCIvL1wiLGUubG9jYXRpb24uaG9zdCxlLmxvY2F0aW9uLnBhdGhuYW1lLGUubG9jYXRpb24uc2VhcmNoLHRdLmpvaW4oXCJcIikpfSxiPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZT8wOnMoZSkrZS5vZmZzZXRUb3B9O2MuYW5pbWF0ZVNjcm9sbD1mdW5jdGlvbihuLGMsdSl7dmFyIHM9cChjP2MuZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb25zXCIpOm51bGwpLGY9bCh0fHxpLHV8fHt9LHMpLHY9XCJbb2JqZWN0IE51bWJlcl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKT8hMDohMSx5PXY/bnVsbDpcIiNcIj09PW4/ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6ZS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO2lmKHZ8fHkpe3ZhciBPPWUucGFnZVlPZmZzZXQ7cnx8KHI9ZS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGYuc2VsZWN0b3JIZWFkZXIpKSxvfHwobz1iKHIpKTt2YXIgUyxJLEg9dj9uOmgoeSxvLHBhcnNlSW50KGYub2Zmc2V0LDEwKSksRT1ILU8saj1tKCksQz0wO3Z8fGcobixmLnVwZGF0ZVVSTCk7dmFyIEw9ZnVuY3Rpb24odCxyLG8pe3ZhciBhPWUucGFnZVlPZmZzZXQ7KHQ9PXJ8fGE9PXJ8fGUuaW5uZXJIZWlnaHQrYT49aikmJihjbGVhckludGVydmFsKG8pLHZ8fHkuZm9jdXMoKSxmLmNhbGxiYWNrKG4sYykpfSx3PWZ1bmN0aW9uKCl7Qys9MTYsUz1DL3BhcnNlSW50KGYuc3BlZWQsMTApLFM9Uz4xPzE6UyxJPU8rRSpkKGYuZWFzaW5nLFMpLGUuc2Nyb2xsVG8oMCxNYXRoLmZsb29yKEkpKSxMKEksSCxhKX0sQT1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoYSksYT1zZXRJbnRlcnZhbCh3LDE2KX07MD09PWUucGFnZVlPZmZzZXQmJmUuc2Nyb2xsVG8oMCwwKSxBKCl9fTt2YXIgdj1mdW5jdGlvbihlKXtpZigwPT09ZS5idXR0b24mJiFlLm1ldGFLZXkmJiFlLmN0cmxLZXkpe3ZhciBuPWYoZS50YXJnZXQsdC5zZWxlY3Rvcik7aWYobiYmXCJhXCI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPWMuZXNjYXBlQ2hhcmFjdGVycyhuLmhhc2gpO2MuYW5pbWF0ZVNjcm9sbChyLG4sdCl9fX0seT1mdW5jdGlvbihlKXtufHwobj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1udWxsLG89YihyKX0sNjYpKX07cmV0dXJuIGMuZGVzdHJveT1mdW5jdGlvbigpe3QmJihlLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHYsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHksITEpLHQ9bnVsbCxuPW51bGwscj1udWxsLG89bnVsbCxhPW51bGwpfSxjLmluaXQ9ZnVuY3Rpb24obil7dSYmKGMuZGVzdHJveSgpLHQ9bChpLG58fHt9KSxyPWUuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0LnNlbGVjdG9ySGVhZGVyKSxvPWIociksZS5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix2LCExKSxyJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix5LCExKSl9LGN9KTsiXX0=
